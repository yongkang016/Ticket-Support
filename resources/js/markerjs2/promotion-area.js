import {ColorPickerPanel, RectangularBoxMarkerBase, SvgHelper} from 'markerjs2';

export class PromotionAreaMarker extends RectangularBoxMarkerBase {
    strokeColor = 'transparent';
    strokeWidth = 0;

    constructor(container, overlayContainer, settings) {
        super(container, overlayContainer, settings);

        this.strokeColor = settings.defaultColor;
        this.strokeWidth = settings.defaultStrokeWidth;

        this.createVisual = this.createVisual.bind(this);
        this.setStrokeColor = this.setStrokeColor.bind(this);

        this.strokePanel = new ColorPickerPanel(
            'line color',
            settings.defaultColorSet,
            settings.defaultColor,
        );

        this.strokePanel.onColorChanged = this.setStrokeColor;
    }

    createVisual() {
        this.visual = SvgHelper.createImage([
            ['href', 'data:image/png;base64,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aCAwNgIQwNgI0z8IBEYAAgi8OAwNBMZGAAIYG2H6B4HACEAAgReHoYHA2AhAAGMjTP8gEBgBCCDw4jA0EBgbAQhgbITpHwQCIwABBF4chgYCYyMAAYyNMP2DQGAEIIBdL47zGNSKjy+LLL4wcheQOKPtHoFleauhjYFHpVBsP+xaBXxM8H3767Epq1Gt+DhVlNOpn9lcGnF+T7AOSpdhOvNzrQTgK+K/Kun1zZXavjKekhCoVcDHXMDXpTxtY75jir6vaF7yXEkn93zZkZLOqFgb2nb6r2huljqhJx6Lag4B7Lyc50k6dCGr7FtjX9BzO2BtyEkol1B63aKzBAB2nAMEsPOqntNkKn7EQhbbGoAvWbmqx3yc5dmXtSyhnJq2d0uYyyBzgAAggJwgQQA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwB2XrwLJN2t4jXddujPlvS8nnN5hqSX9OwjSvOzJT06ymAijAMC2HkVDpN0nKTLJF0XYZEK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'],
            ['width', '50'],
            ['height', '20'],
        ]);
        this.addMarkerVisualToContainer(this.visual);
    }

    setPoints() {
        super.setSize();
        SvgHelper.setAttributes(this.visual, [
            ['href', 'data:image/png;base64,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aCAwNgIQwNgI0z8IBEYAAgi8OAwNBMZGAAIYG2H6B4HACEAAgReHoYHA2AhAAGMjTP8gEBgBCCDw4jA0EBgbAQhgbITpHwQCIwABBF4chgYCYyMAAYyNMP2DQGAEIIBdL47zGNSKjy+LLL4wcheQOKPtHoFleauhjYFHpVBsP+xaBXxM8H3767Epq1Gt+DhVlNOpn9lcGnF+T7AOSpdhOvNzrQTgK+K/Kun1zZXavjKekhCoVcDHXMDXpTxtY75jir6vaF7yXEkn93zZkZLOqFgb2nb6r2huljqhJx6Lag4B7Lyc50k6dCGr7FtjX9BzO2BtyEkol1B63aKzBAB2nAMEsPOqntNkKn7EQhbbGoAvWbmqx3yc5dmXtSyhnJq2d0uYyyBzgAAggJwgQQA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwAggJz4QgA5hCquhwB2XrwLJN2t4jXddujPlvS8nnN5hqSX9OwjSvOzJT06ymAijAMC2HkVDpN0nKTLJF0XYZEK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'],
            ['width', this.width],
            ['height', this.height],
        ]);
    }

    pointerDown(point, target) {
        super.pointerDown(point, target);
        if (this.state === 'new') {
            this.createVisual();
            this.moveVisual(point);
            this._state = 'creating';
        }
    }

    resize(point) {
        super.resize(point);
        this.setPoints();
    }

    pointerUp(point) {
        super.pointerUp(point);
        this.setPoints();
    }

    ownsTarget(el) {
        if (super.ownsTarget(el) || el === this.visual) {
            return true;
        } else {
            return false;
        }
    }

    setStrokeColor(color) {
        this.strokeColor = color;
        if (this.visual) {
            SvgHelper.setAttributes(this.visual, [['stroke', this.strokeColor]]);
        }
    }

    get toolboxPanels() {
        return [this.strokePanel];
    }

    getState() {
        const result = Object.assign({
            strokeColor: this.strokeColor
        }, super.getState());
        result.typeName = PromotionAreaMarker.typeName;

        return result;
    }

    restoreState(state) {
        const rectState = state;
        this.strokeColor = rectState.strokeColor;

        this.createVisual();
        super.restoreState(state);
        this.setPoints();
    }

    scale(scaleX, scaleY) {
        super.scale(scaleX, scaleY);
        this.setPoints();
    }
}

PromotionAreaMarker.typeName = 'PromotionAreaMarker';
PromotionAreaMarker.title = 'Promotion Area Marker';
PromotionAreaMarker.icon = '<svg width="20px" height="20px" viewBox="0 0 15 15" version="1.1" id="warehouse" xmlns="http://www.w3.org/2000/svg" fill="#ffffff"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M13.5,5c-0.0762,0.0003-0.1514-0.0168-0.22-0.05L7.5,2L1.72,4.93C1.4632,5.0515,1.1565,4.9418,1.035,4.685S1.0232,4.1215,1.28,4L7.5,0.92L13.72,4c0.2761,0.0608,0.4508,0.3339,0.39,0.61C14.0492,4.8861,13.7761,5.0608,13.5,5z M5,10H2v3h3V10z M9,10H6v3h3V10z M13,10h-3v3h3V10z M11,6H8v3h3V6z M7,6H4v3h3V6z"></path> </g></svg>';
