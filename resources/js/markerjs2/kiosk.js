import {ColorPickerPanel, RectangularBoxMarkerBase, SvgHelper} from 'markerjs2';

export class KioskMarker extends RectangularBoxMarkerBase {
    strokeColor = 'transparent';
    strokeWidth = 0;

    constructor(container, overlayContainer, settings) {
        super(container, overlayContainer, settings);

        this.strokeColor = settings.defaultColor;
        this.strokeWidth = settings.defaultStrokeWidth;

        this.createVisual = this.createVisual.bind(this);
        this.setStrokeColor = this.setStrokeColor.bind(this);

        this.strokePanel = new ColorPickerPanel(
            'line color',
            settings.defaultColorSet,
            settings.defaultColor,
        );

        this.strokePanel.onColorChanged = this.setStrokeColor;
    }

    createVisual() {
        this.visual = SvgHelper.createImage([
            ['href', 'data:image/png;base64,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'],
            ['width', '50'],
            ['height', '20'],
        ]);

        this.addMarkerVisualToContainer(this.visual);
    }

    setPoints() {
        super.setSize();
        SvgHelper.setAttributes(this.visual, [
            ['href', 'data:image/png;base64,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'],
            ['width', this.width],
            ['height', this.height],
        ]);
    }

    pointerDown(point, target) {
        super.pointerDown(point, target);
        if (this.state === 'new') {
            this.createVisual();
            this.moveVisual(point);
            this._state = 'creating';
        }
    }

    resize(point) {
        super.resize(point);
        this.setPoints();
    }

    pointerUp(point) {
        super.pointerUp(point);
        this.setPoints();
    }

    ownsTarget(el) {
        if (super.ownsTarget(el) || el === this.visual) {
            return true;
        } else {
            return false;
        }
    }

    setStrokeColor(color) {
        this.strokeColor = color;
        if (this.visual) {
            SvgHelper.setAttributes(this.visual, [['stroke', this.strokeColor]]);
        }
    }

    get toolboxPanels() {
        return [this.strokePanel];
    }

    getState() {
        const result = Object.assign({
            strokeColor: this.strokeColor
        }, super.getState());
        result.typeName = KioskMarker.typeName;

        return result;
    }

    restoreState(state) {
        const rectState = state;
        this.strokeColor = rectState.strokeColor;

        this.createVisual();
        super.restoreState(state);
        this.setPoints();
    }

    scale(scaleX, scaleY) {
        super.scale(scaleX, scaleY);
        this.setPoints();
    }
}

KioskMarker.typeName = 'KioskMarker';
KioskMarker.title = 'Kiosk Marker';
KioskMarker.icon = '<svg width="20px" height="20px" viewBox="0 0 24.00 24.00" id="meteor-icon-kit__regular-marketplace-stall" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="#ffffff" stroke-width="0.00024000000000000003" transform="matrix(1, 0, 0, 1, 0, 0)rotate(0)"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" stroke="#CCCCCC" stroke-width="0.624"></g><g id="SVGRepo_iconCarrier"> <g clip-path="url(#clip0_525_139)"> <path fill-rule="evenodd" clip-rule="evenodd" d="M20 7H22.6743C23.3387 7 23.8183 6.36409 23.6358 5.72528L22.2072 0.725279C22.0846 0.295977 21.6922 0 21.2457 0H2.75431C2.30783 0 1.91545 0.295978 1.79279 0.725279L0.364219 5.72528C0.1817 6.3641 0.661363 7 1.32574 7H4V14H1C0.447715 14 0 14.4477 0 15C0 15.5523 0.447715 16 1 16H2V23C2 23.5523 2.44772 24 3 24H21C21.5523 24 22 23.5523 22 23V16H23C23.5523 16 24 15.5523 24 15C24 14.4477 23.5523 14 23 14H20V7ZM2.65147 5L3.50862 2H20.4914L21.3486 5H2.65147ZM18 7H6V14H18V7ZM20 16V22H18V16H20ZM16 22V16H13V22H16ZM11 16V22H8V16H11ZM6 22V16H4V22H6Z" fill="#ffffff"></path> </g> <defs> <clipPath id="clip0_525_139"> <rect width="24" height="24" fill="white"></rect> </clipPath> </defs> </g></svg>';
