import {ColorPickerPanel, RectangularBoxMarkerBase, SvgHelper} from 'markerjs2';

export class WallSignMarker extends RectangularBoxMarkerBase {
    strokeColor = 'transparent';
    strokeWidth = 0;

    constructor(container, overlayContainer, settings) {
        super(container, overlayContainer, settings);

        this.strokeColor = settings.defaultColor;
        this.strokeWidth = settings.defaultStrokeWidth;

        this.createVisual = this.createVisual.bind(this);
        this.setStrokeColor = this.setStrokeColor.bind(this);

        this.strokePanel = new ColorPickerPanel(
            'line color',
            settings.defaultColorSet,
            settings.defaultColor,
        );

        this.strokePanel.onColorChanged = this.setStrokeColor;
    }

    createVisual() {
        this.visual = SvgHelper.createImage([
            ['href', 'data:image/png;base64,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'],
            ['width', '50'],
            ['height', '20'],
        ]);
        this.addMarkerVisualToContainer(this.visual);
    }

    setPoints() {
        super.setSize();
        SvgHelper.setAttributes(this.visual, [
            ['href', 'data:image/png;base64,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'],
            ['width', this.width],
            ['height', this.height],
        ]);
    }

    pointerDown(point, target) {
        super.pointerDown(point, target);
        if (this.state === 'new') {
            this.createVisual();
            this.moveVisual(point);
            this._state = 'creating';
        }
    }

    resize(point) {
        super.resize(point);
        this.setPoints();
    }

    pointerUp(point) {
        super.pointerUp(point);
        this.setPoints();
    }

    ownsTarget(el) {
        if (super.ownsTarget(el) || el === this.visual) {
            return true;
        } else {
            return false;
        }
    }

    setStrokeColor(color) {
        this.strokeColor = color;
        if (this.visual) {
            SvgHelper.setAttributes(this.visual, [['stroke', this.strokeColor]]);
        }
    }

    get toolboxPanels() {
        return [this.strokePanel];
    }

    getState() {
        const result = Object.assign({
            strokeColor: this.strokeColor
        }, super.getState());
        result.typeName = WallSignMarker.typeName;

        return result;
    }

    restoreState(state) {
        const rectState = state;
        this.strokeColor = rectState.strokeColor;

        this.createVisual();
        super.restoreState(state);
        this.setPoints();
    }

    scale(scaleX, scaleY) {
        super.scale(scaleX, scaleY);
        this.setPoints();
    }
}

WallSignMarker.typeName = 'WallSignMarker';
WallSignMarker.title = 'Wall Sign Marker';
WallSignMarker.icon = '<svg fill="#ffffff" height="20px" width="20px" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 57.004 57.004" xml:space="preserve" stroke="#ffffff" stroke-width="0.8550599999999999"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <g> <path d="M57,23.002v-19H0.004v19H0v9h0.004v5H0v9h0.004v7h11h2h9h2h9h2h9h2H57h0.004v-7v-2v-5v-2v-5v-2v-7H57z M2.004,39.002h4v5 h-4V39.002z M8.004,39.002h3h2h4v5h-4h-2h-3V39.002z M2.004,25.002h4v5h-4V25.002z M24.004,32.002h4h2h3v5h-3h-2h-4V32.002z M35.004,32.002h4h2h3v5h-3h-2h-4V32.002z M46.004,32.002h4h2H55v5h-2.996h-2h-4V32.002z M52.004,30.002v-5H55v5H52.004z M50.004,30.002h-4h-2h-3v-5h9V30.002z M39.004,30.002h-4h-2h-3v-5h9V30.002z M28.004,30.002h-4h-2h-3v-5h9V30.002z M17.004,30.002 h-4h-2h-3v-5h9V30.002z M13.004,32.002h4h2h3v5h-3h-2h-4V32.002z M19.004,39.002h3h2h4v5h-4h-2h-3V39.002z M30.004,39.002h3h2h4v5 h-4h-2h-3V39.002z M41.004,39.002h3h2h4v5h-4h-2h-3V39.002z M52.004,39.002H55v5h-2.996V39.002z M2.004,6.002H55v17h-2.996h-2h-9 h-2h-9h-2h-9h-2h-9h-2h-4V6.002z M2.004,32.002h4h2h3v5h-3h-2h-4V32.002z M2.004,51.002v-5h4h2h3v5H2.004z M13.004,51.002v-5h4h2h3 v5H13.004z M24.004,51.002v-5h4h2h3v5H24.004z M35.004,51.002v-5h4h2h3v5H35.004z M46.004,51.002v-5h4h2H55v5H46.004z"></path> <path d="M5.004,15.002c0.256,0,0.512-0.098,0.707-0.293l5-5c0.391-0.391,0.391-1.023,0-1.414s-1.023-0.391-1.414,0l-5,5 c-0.391,0.391-0.391,1.023,0,1.414C4.492,14.904,4.748,15.002,5.004,15.002z"></path> <path d="M18.711,7.295c-0.391-0.391-1.023-0.391-1.414,0l-13,13c-0.391,0.391-0.391,1.023,0,1.414 c0.195,0.195,0.451,0.293,0.707,0.293s0.512-0.098,0.707-0.293l13-13C19.102,8.318,19.102,7.686,18.711,7.295z"></path> </g> </g></svg>';
